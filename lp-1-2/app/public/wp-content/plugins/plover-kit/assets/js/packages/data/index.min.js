(()=>{"use strict";var e={d:(o,t)=>{for(var r in t)e.o(t,r)&&!e.o(o,r)&&Object.defineProperty(o,r,{enumerable:!0,get:t[r]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},o={};e.r(o),e.d(o,{noticesStore:()=>d,useNotices:()=>l});const t=window.wp.data,r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var n,s=new Uint8Array(16);function i(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(s)}for(var c=[],u=0;u<256;++u)c.push((u+256).toString(16).slice(1));const a=function(e,o,t){if(r.randomUUID&&!o&&!e)return r.randomUUID();var n=(e=e||{}).random||(e.rng||i)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,o){t=t||0;for(var s=0;s<16;++s)o[t+s]=n[s];return o}return function(e,o=0){return(c[e[o+0]]+c[e[o+1]]+c[e[o+2]]+c[e[o+3]]+"-"+c[e[o+4]]+c[e[o+5]]+"-"+c[e[o+6]]+c[e[o+7]]+"-"+c[e[o+8]]+c[e[o+9]]+"-"+c[e[o+10]]+c[e[o+11]]+c[e[o+12]]+c[e[o+13]]+c[e[o+14]]+c[e[o+15]]).toLowerCase()}(n)},d="plover-kit/notices",p={notices:[]},m={name:d,options:{reducer(e=p,o){switch(o.type){case"SHOW_NOTICE":return{notices:[...e.notices,o.payload]};case"REMOVE_NOTICE":return{notices:[...e.notices].filter((({id:e})=>e!==o.uuid))}}return e},actions:{showNotice:(e,o,t=null)=>({type:"SHOW_NOTICE",payload:{id:t||a(),status:e,message:o}}),showErrorResponse:({code:e,message:o},t=null)=>({type:"SHOW_NOTICE",payload:{id:t||a(),status:"error",message:`[${e}] ${o}`}}),removeNotice:e=>({type:"REMOVE_NOTICE",uuid:e})},selectors:{getNotices:e=>e.notices}}};function l(){const e=(0,t.useSelect)((function(e){return e(d).getNotices()}),[]),{showNotice:o,removeNotice:r,showErrorResponse:n}=(0,t.useDispatch)(d);return{showNotice:o,showTimeoutNotice:(e,t,n=5e3)=>{const s=a();o(e,t,s),n>0&&setTimeout((()=>{r(s)}),n)},showErrorResponse:(...e)=>(n(...e),Promise.reject()),showTimeoutErrorResponse:(e,o=8e3)=>{const t=a();return n(e,t),o>0&&setTimeout((()=>{r(t)}),o),Promise.reject()},removeNotice:r,notices:e}}t.register?(0,t.register)((0,t.createReduxStore)(m.name,m.options)):(0,t.registerStore)(m.name,m.options),(window.ploverKit=window.ploverKit||{}).data=o})();